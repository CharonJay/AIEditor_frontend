{"version":3,"file":"tiptap-extension-font-size.umd.development.js","sources":["../src/font-size.ts"],"sourcesContent":["import { Extension } from '@tiptap/core';\nimport '@tiptap/extension-text-style';\n\ntype FontSizeOptions = {\n  types: string[];\n};\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontSize: {\n      /**\n       * Set the font size attribute\n       */\n      setFontSize: (size: string) => ReturnType;\n      /**\n       * Unset the font size attribute\n       */\n      unsetFontSize: () => ReturnType;\n    };\n  }\n}\n\nexport const FontSize = Extension.create<FontSizeOptions>({\n  name: 'fontSize',\n\n  addOptions(): FontSizeOptions {\n    return {\n      types: ['textStyle'],\n    };\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontSize: {\n            default: null,\n            parseHTML: element => element.style.fontSize.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontSize) {\n                return {};\n              }\n\n              return {\n                style: `font-size: ${attributes.fontSize}`,\n              };\n            },\n          },\n        },\n      },\n    ];\n  },\n\n  addCommands() {\n    return {\n      setFontSize: fontSize => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize })\n          .run();\n      },\n      unsetFontSize: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize: null })\n          .removeEmptyTextStyle()\n          .run();\n      },\n    };\n  },\n});\n"],"names":["FontSize","Extension","create","name","addOptions","types","addGlobalAttributes","options","attributes","fontSize","parseHTML","element","style","replace","renderHTML","addCommands","setFontSize","chain","setMark","run","unsetFontSize","removeEmptyTextStyle"],"mappings":";;;;;;MAsBaA,QAAQ,gBAAGC,cAAS,CAACC,MAAV,CAAkC;IACxDC,IAAI,EAAE,UADkD;IAGxDC,UAHwD;MAItD,OAAO;QACLC,KAAK,EAAE,CAAC,WAAD;OADT;KAJsD;IASxDC,mBATwD;MAUtD,OAAO,CACL;QACED,KAAK,EAAE,KAAKE,OAAL,CAAaF,KADtB;QAEEG,UAAU,EAAE;UACVC,QAAQ,EAAE;YACR,WAAS,IADD;YAERC,SAAS,EAAE,mBAAAC,OAAO;cAAA,OAAIA,OAAO,CAACC,KAAR,CAAcH,QAAd,CAAuBI,OAAvB,CAA+B,QAA/B,EAAyC,EAAzC,CAAJ;aAFV;YAGRC,UAAU,EAAE,oBAAAN,UAAU;cACpB,IAAI,CAACA,UAAU,CAACC,QAAhB,EAA0B;gBACxB,OAAO,EAAP;;;cAGF,OAAO;gBACLG,KAAK,kBAAgBJ,UAAU,CAACC;eADlC;;;;OAZH,CAAP;KAVsD;IAgCxDM,WAhCwD;MAiCtD,OAAO;QACLC,WAAW,EAAE,qBAAAP,QAAQ;UAAA,OAAI;gBAAGQ,aAAAA;YAC1B,OAAOA,KAAK,GACTC,OADI,CACI,WADJ,EACiB;cAAET,QAAQ,EAARA;aADnB,EAEJU,GAFI,EAAP;WADmB;SADhB;QAMLC,aAAa,EAAE;UAAA,OAAM;gBAAGH,cAAAA;YACtB,OAAOA,KAAK,GACTC,OADI,CACI,WADJ,EACiB;cAAET,QAAQ,EAAE;aAD7B,EAEJY,oBAFI,GAGJF,GAHI,EAAP;WADa;;OANjB;;EAjCsD,CAAlC;;;;;;;;;;;;;"}