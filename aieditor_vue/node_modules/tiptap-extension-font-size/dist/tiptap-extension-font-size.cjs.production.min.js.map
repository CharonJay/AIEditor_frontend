{"version":3,"file":"tiptap-extension-font-size.cjs.production.min.js","sources":["../src/font-size.ts"],"sourcesContent":["import { Extension } from '@tiptap/core';\nimport '@tiptap/extension-text-style';\n\ntype FontSizeOptions = {\n  types: string[];\n};\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontSize: {\n      /**\n       * Set the font size attribute\n       */\n      setFontSize: (size: string) => ReturnType;\n      /**\n       * Unset the font size attribute\n       */\n      unsetFontSize: () => ReturnType;\n    };\n  }\n}\n\nexport const FontSize = Extension.create<FontSizeOptions>({\n  name: 'fontSize',\n\n  addOptions(): FontSizeOptions {\n    return {\n      types: ['textStyle'],\n    };\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontSize: {\n            default: null,\n            parseHTML: element => element.style.fontSize.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontSize) {\n                return {};\n              }\n\n              return {\n                style: `font-size: ${attributes.fontSize}`,\n              };\n            },\n          },\n        },\n      },\n    ];\n  },\n\n  addCommands() {\n    return {\n      setFontSize: fontSize => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize })\n          .run();\n      },\n      unsetFontSize: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize: null })\n          .removeEmptyTextStyle()\n          .run();\n      },\n    };\n  },\n});\n"],"names":["FontSize","Extension","create","name","addOptions","types","addGlobalAttributes","this","options","attributes","fontSize","default","parseHTML","element","style","replace","renderHTML","addCommands","setFontSize","chain","setMark","run","unsetFontSize","removeEmptyTextStyle"],"mappings":"8IAsBaA,EAAWC,YAAUC,OAAwB,CACxDC,KAAM,WAENC,sBACE,MAAO,CACLC,MAAO,CAAC,eAIZC,+BACE,MAAO,CACL,CACED,MAAOE,KAAKC,QAAQH,MACpBI,WAAY,CACVC,SAAU,CACRC,QAAS,KACTC,UAAW,SAAAC,GAAO,OAAIA,EAAQC,MAAMJ,SAASK,QAAQ,SAAU,KAC/DC,WAAY,SAAAP,GACV,OAAKA,EAAWC,SAIT,CACLI,oBAAqBL,EAAWC,UAJzB,SAarBO,uBACE,MAAO,CACLC,YAAa,SAAAR,GAAQ,OAAI,YACvB,OAAOS,IADmBA,SAEvBC,QAAQ,YAAa,CAAEV,SAAAA,IACvBW,QAELC,cAAe,WAAA,OAAM,YACnB,OAAOH,IADeA,SAEnBC,QAAQ,YAAa,CAAEV,SAAU,OACjCa,uBACAF"}