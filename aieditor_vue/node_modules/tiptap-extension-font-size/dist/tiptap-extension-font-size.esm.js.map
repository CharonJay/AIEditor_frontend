{"version":3,"file":"tiptap-extension-font-size.esm.js","sources":["../src/font-size.ts"],"sourcesContent":["import { Extension } from '@tiptap/core';\nimport '@tiptap/extension-text-style';\n\ntype FontSizeOptions = {\n  types: string[];\n};\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontSize: {\n      /**\n       * Set the font size attribute\n       */\n      setFontSize: (size: string) => ReturnType;\n      /**\n       * Unset the font size attribute\n       */\n      unsetFontSize: () => ReturnType;\n    };\n  }\n}\n\nexport const FontSize = Extension.create<FontSizeOptions>({\n  name: 'fontSize',\n\n  addOptions(): FontSizeOptions {\n    return {\n      types: ['textStyle'],\n    };\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontSize: {\n            default: null,\n            parseHTML: element => element.style.fontSize.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontSize) {\n                return {};\n              }\n\n              return {\n                style: `font-size: ${attributes.fontSize}`,\n              };\n            },\n          },\n        },\n      },\n    ];\n  },\n\n  addCommands() {\n    return {\n      setFontSize: fontSize => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize })\n          .run();\n      },\n      unsetFontSize: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontSize: null })\n          .removeEmptyTextStyle()\n          .run();\n      },\n    };\n  },\n});\n"],"names":["FontSize","Extension","create","name","addOptions","types","addGlobalAttributes","options","attributes","fontSize","parseHTML","element","style","replace","renderHTML","addCommands","setFontSize","chain","setMark","run","unsetFontSize","removeEmptyTextStyle"],"mappings":";;;IAsBaA,QAAQ,gBAAGC,SAAS,CAACC,MAAV,CAAkC;EACxDC,IAAI,EAAE,UADkD;EAGxDC,UAHwD;IAItD,OAAO;MACLC,KAAK,EAAE,CAAC,WAAD;KADT;GAJsD;EASxDC,mBATwD;IAUtD,OAAO,CACL;MACED,KAAK,EAAE,KAAKE,OAAL,CAAaF,KADtB;MAEEG,UAAU,EAAE;QACVC,QAAQ,EAAE;UACR,WAAS,IADD;UAERC,SAAS,EAAE,mBAAAC,OAAO;YAAA,OAAIA,OAAO,CAACC,KAAR,CAAcH,QAAd,CAAuBI,OAAvB,CAA+B,QAA/B,EAAyC,EAAzC,CAAJ;WAFV;UAGRC,UAAU,EAAE,oBAAAN,UAAU;YACpB,IAAI,CAACA,UAAU,CAACC,QAAhB,EAA0B;cACxB,OAAO,EAAP;;;YAGF,OAAO;cACLG,KAAK,kBAAgBJ,UAAU,CAACC;aADlC;;;;KAZH,CAAP;GAVsD;EAgCxDM,WAhCwD;IAiCtD,OAAO;MACLC,WAAW,EAAE,qBAAAP,QAAQ;QAAA,OAAI;cAAGQ,aAAAA;UAC1B,OAAOA,KAAK,GACTC,OADI,CACI,WADJ,EACiB;YAAET,QAAQ,EAARA;WADnB,EAEJU,GAFI,EAAP;SADmB;OADhB;MAMLC,aAAa,EAAE;QAAA,OAAM;cAAGH,cAAAA;UACtB,OAAOA,KAAK,GACTC,OADI,CACI,WADJ,EACiB;YAAET,QAAQ,EAAE;WAD7B,EAEJY,oBAFI,GAGJF,GAHI,EAAP;SADa;;KANjB;;AAjCsD,CAAlC;;;;;"}